document.addEventListener("DOMContentLoaded", function () {
  const menuOfertaBtn = document.querySelector('a[title="menu-oferta"]');
  const submenu = document.querySelector('.oferta-nivel-dois');

  if (menuOfertaBtn && submenu) {
    // Bloqueia comportamento de hover
    menuOfertaBtn.parentElement.classList.add("bloquear-hover-oferta");

    // Força o onclick direto (fallback)
    menuOfertaBtn.onclick = function (event) {
      console.log('Clique forçado em menu-oferta');
      event.preventDefault();
      event.stopPropagation();
      submenu.classList.toggle("ativo");
      return false;
    };

    // Clica fora fecha o menu
    document.addEventListener("click", function (e) {
      if (!menuOfertaBtn.contains(e.target) && !submenu.contains(e.target)) {
        submenu.classList.remove("ativo");
      }
    });
  }
});
