document.addEventListener("DOMContentLoaded", function () {
  const menuOfertaBtn = document.querySelector('a[title="menu-oferta"]');
  const submenu = document.querySelector('.oferta-nivel-dois');

  if (menuOfertaBtn && submenu) {
    // Remove comportamento de hover
    menuOfertaBtn.parentElement.classList.add("bloquear-hover-oferta");

    // Clique para abrir/fechar
    menuOfertaBtn.addEventListener("click", function (event) {
      event.preventDefault(); // bloqueia redirecionamento
      event.stopPropagation(); // evita fechamento imediato

      // Toggle da classe 'ativo'
      submenu.classList.toggle("ativo");
    });

    // Clicar fora fecha o menu
    document.addEventListener("click", function (event) {
      if (!submenu.contains(event.target) && !menuOfertaBtn.contains(event.target)) {
        submenu.classList.remove("ativo");
      }
    });
  }
});
