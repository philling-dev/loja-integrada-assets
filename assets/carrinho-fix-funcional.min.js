// Injetar CSS dinamicamente
var style = document.createElement('style');
style.innerHTML = `
  /* Corrigir carrinho Plugoo */
  span.titulo.cor-secundaria.vazio-text { display: none !important; }
  .carrinho-link, .cart-icon, .header-cart { display: block !important; visibility: visible !important; }
  .cart-counter, .carrinho-contador { display: inline-block !important; min-width: 20px; text-align: center; }
  .cart-counter:empty::after { content: "0"; }
`;
document.head.appendChild(style);

// JavaScript - Corrigir contador carrinho
$(document).ready(function() {
  function updateCartCounter() {
    var cartCount = (typeof CARRINHO_PRODS !== 'undefined' && CARRINHO_PRODS.length) ? CARRINHO_PRODS.length : 0;
    $('.cart-counter, .carrinho-contador, .cart-count').text(cartCount);
    $('.carrinho-link, .cart-icon').show();
  }

  updateCartCounter();

  // Event listeners
  $(document).on('li_add_to_cart li_remove_from_cart li_change_quantity', function() {
    setTimeout(updateCartCounter, 500);
  });
});